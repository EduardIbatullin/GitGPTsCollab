
# GitHub Repo Assistant API

–õ—ë–≥–∫–∏–π FastAPI-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞—à–∏–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ –Ω–∞ GitHub.  
–ü–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ü–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª

---

## üìã –ü—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã

- Python 3.8+  
- GitHub Personal Access Token —Å –ø—Ä–∞–≤–∞–º–∏ ¬´repo¬ª  
- FastAPI –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—Å–º. `requirements.txt`)  

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/your-username/your-project.git
   cd your-project
   ```

2. C–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   ```bash
   python -m venv .venv
   source .venv/bin/activate       # Linux/macOS
   .venv\Scripts\activate          # Windows
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
   ```dotenv
   GITHUB_TOKEN=ghp_XXXXXXXXXXXXXXXXXXXXXXXXXXXX
   GITHUB_USERNAME=your-github-username
   ```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `app/config.py` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —á–∏—Ç–∞—é—Ç—Å—è —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

- –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://127.0.0.1:8000`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger UI: `http://127.0.0.1:8000/docs`

---

## üìÆ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
GET /repos/{repo}/structure
```

- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**  
  - `repo` (path) ‚Äî –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `my-repo`)

- **–ü—Ä–∏–º–µ—Ä**  
  ```bash
  curl http://127.0.0.1:8000/repos/my-repo/structure
  ```

### 2. –ü–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞

```
GET /repos/{repo}/file?path={file_path}
```

- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**  
  - `repo` (path) ‚Äî –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è  
  - `path` (query) ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –≤–Ω—É—Ç—Ä–∏ —Ä–µ–ø–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `src/main.py`)

- **–ü—Ä–∏–º–µ—Ä**  
  ```bash
  curl "http://127.0.0.1:8000/repos/my-repo/file?path=README.md"
  ```

### 3. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª

```
POST /repos/{repo}/file
Content-Type: application/json
```

- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**  
  - `repo` (path) ‚Äî –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è  
  - –í —Ç–µ–ª–µ JSON:
    - `path` ‚Äî –ø–∞–ø–∫–∞ –≤–Ω—É—Ç—Ä–∏ —Ä–µ–ø–æ (–±–µ–∑ –≤–µ–¥—É—â–µ–≥–æ `/`), –Ω–∞–ø—Ä–∏–º–µ—Ä `src`
    - `filename` ‚Äî –∏–º—è —Ñ–∞–π–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä `new_script.py`
    - `content` ‚Äî —Ç–µ–∫—Å—Ç —Ñ–∞–π–ª–∞
    - `message` ‚Äî (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞

- **–ü—Ä–∏–º–µ—Ä**  
  ```bash
  curl -X POST http://127.0.0.1:8000/repos/my-repo/file \
    -H "Content-Type: application/json" \
    -d '{
      "path": "src",
      "filename": "hello.txt",
      "content": "SGVsbG8sIHdvcmxkIQo=",
      "message": "Add hello.txt"
    }'
  ```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≤ `content` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Base64-–∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (FastAPI-–∫–ª–∏–µ–Ω—Ç —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ã—á–Ω—ã–º UTF-8 —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –∏ —Å–∞–º –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å).

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

Licensed under the MIT License. See [LICENSE](./LICENSE) file for details.

---

¬© 2025  
